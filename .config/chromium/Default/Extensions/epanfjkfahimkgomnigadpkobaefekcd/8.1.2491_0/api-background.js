/**
 * Blur Copyright (c) 2008-2015 by Abine, Inc. All Rights Reserved.
 *
 * This software is the confidential and proprietary information
 * of Abine, Inc. ("Confidential Information"), subject
 * to the Non-Disclosure Agreement and/or License Agreement you entered
 * into with Abine. You shall use such Confidential Information only
 * in accordance with the terms of said Agreement(s). Abine makes
 * no representations or warranties about the suitability of the
 * software. The software is provided with ABSOLUTELY NO WARRANTY
 * and Abine will NOT BE LIABLE for ANY DAMAGES resulting from
 * the use of the software.
 *
 * Contact license@getabine.com with any license-related questions.
 *
 * https://www.abine.com
 * @license
 *
 */
var ABINE_DNT=ABINE_DNT||{};ABINE_DNT.tag="dntme",ABINE_DNT.version="3.0.0.42",ABINE_DNT.browser="chrome",ABINE_DNT.require=require,ABINE_DNT.define=define,ABINE_DNT.define("documentcloud/underscore",function(){return _}),ABINE_DNT.define("abine/dnt/core",["documentcloud/underscore"],function(e){var t={on:function(e,t,n){var r=this._callbacks||(this._callbacks={}),i=r[e]||(r[e]={}),o=i.tail||(i.tail=i.next={});return o.callback=t,o.context=n,i.tail=o.next={},this},off:function(e,t){var n,r,i;if(e){if(n=this._callbacks)if(t){if(r=n[e])for(;(i=r)&&(r=r.next);)if(r.callback===t){i.next=r.next,r.context=r.callback=null;break}}else n[e]={}}else this._callbacks=null;return this},trigger:function(e){var t,n,r,i,o,a=["all",e];if(!(n=this._callbacks))return this;for(;o=a.pop();)if(t=n[o])for(i="all"==o?arguments:Array.prototype.slice.call(arguments,1);t=t.next;)(r=t.callback)&&r.apply(t.context||this,i);return this},once:function(e,t,n){function r(){return i.off(e,r),t.apply(this,arguments)}var i=this;return this.on(e,r,n)}},n=function(){},r=function(t,r,i){var o;return o=r&&r.hasOwnProperty("constructor")?r.constructor:function(){return t.apply(this,arguments)},e.extend(o,t),n.prototype=t.prototype,o.prototype=new n,r&&e.extend(o.prototype,r),i&&e.extend(o,i),o.prototype.constructor=o,o.__super__=t.prototype,o},i=function(e,t){var n=r(this,e,t);return n.extend=this.extend,n},o=function(){this.initialize.apply(this,arguments)};return e.extend(o.prototype,t,{initialize:function(){}}),o.extend=i,{BaseClass:o}}),ABINE_DNT.define("abine/dnt/config",["documentcloud/underscore","abine/dnt/core"],function(e,t){function n(e,t,n,o){function s(){a.trigger("update-content-policy-settings"),i()}var u=r.trackerSettings;if(u[n]||(u[n]={}),"*"==e&&"*"==n){for(var l in u[e])u[e][l]=t;for(var c in u)"*"!=c&&delete u[c];return r.defaultBlocked=t,void s()}if("*"==e){u[n]={};var d=r.disabledSites,f=r.blockedSites;return t?n in d&&delete d[n]:(o?n in d&&delete d[n]:d[n]=1,u[n]["*"]=0),t?o&&(f[n]=1):n in f&&delete f[n],void s()}if("*"==n)for(var c in u)"*"!=c&&e in u[c]&&delete u[c][e];t?u[n][e]=1:u[n][e]=0,s()}var r={defaultBlocked:!0,useSuggestions:!0,placeHolderButtonEnabled:!1,trackerSettings:{},disabledSites:{},blockedSites:{}},i=e.debounce(function(){a.trigger("config-changed",r)},3e3),o=t.BaseClass.extend({load:function(e){for(var t in e)r[t]=e[t]},saveChanges:i,allowTracker:function(e,t,r){n(e,!1,t,r)},blockTracker:function(e,t,r){n(e,!0,t,r)},getDefaultBlocking:function(){return r.defaultBlocked},setDefaultBlocking:function(e){n("*",e,"*")},getSuggestionsEnabled:function(){return r.useSuggestions},setSuggestionsEnabled:function(e){r.useSuggestions=e,i(),this.trigger("update-content-policy-suggestions")},getDisableSites:function(){return r.disabledSites},getBlockedSites:function(){return r.blockedSites},getTrackerSettings:function(){return r.trackerSettings},setPlaceHolderButtonEnabled:function(e){r.placeHolderButtonEnabled=!!e,i()},isPlaceHolderButtonEnabled:function(){return r.placeHolderButtonEnabled},getTrackerDefaults:function(){var e=r.trackerSettings;e["*"]||(e["*"]={});var t={};for(var n in e["*"])t[n]=e["*"][n];return t},setTrackerDefaults:function(e){var t=r.trackerSettings;t["*"]||(t["*"]={});var n;for(var o in e)o in t["*"]||(t["*"][o]=r.defaultBlocked,n=!0);return n&&i(),n}}),a=new o;return a}),ABINE_DNT.define("abine/dnt/utils",[],function(){function e(){for(var e=!1,t=0;t<l.length;t++){try{e=l[t](),l=[l[t]]}catch(e){continue}break}return e}function t(t,n,r,i){var o=e();if(o){i="undefined"==typeof i||i;var a=r?"POST":"GET";o.open(a,t,i),o.setRequestHeader("Cache-Control","no-cache"),o.setRequestHeader("Pragma","no-cache"),o.setRequestHeader("If-Modified-Since","Sat, 1 Jan 2000 00:00:00 GMT"),r&&(o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.setRequestHeader("Content-length",r.length));var s=function(){if(4==o.readyState)return 200!=o.status&&304!=o.status&&0!=o.status?void n(null,o):void n(o.responseText,o)};i&&(o.onreadystatechange=s),o.setRequestHeader("X-DNT-Version",ABINE_DNT.version+" "+ABINE_DNT.browser+" "+ABINE_DNT.tag),o.send(r),i||s()}}var n={},r=function(e){return null==e?String(e):n[toString.call(e)]||"object"},i=function(e){return null!=e&&e==e.window},o=function(e){return"[object Function]"===toString.call(e)},a=Array.isArray||function(e){return"array"===r(e)},s=function(e){if(!e||"object"!==r(e)||e.nodeType||i(e))return!1;var t=Object.prototype.hasOwnProperty;try{if(e.constructor&&!t.call(e,"constructor")&&!t.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var n;for(n in e);return void 0===n||t.call(e,n)},u=function(){var e,t,n,r,i,l,c=arguments[0]||{},d=1,f=arguments.length,g=!1;for("boolean"==typeof c&&(g=c,c=arguments[1]||{},d=2),"object"==typeof c||o(c)||(c={}),f===d&&(c=this,--d);d<f;d++)if(null!=(e=arguments[d]))for(t in e)n=c[t],r=e[t],c!==r&&(g&&r&&(s(r)||(i=a(r)))?(i?(i=!1,l=n&&a(n)?n:[]):l=n&&s(n)?n:{},c[t]=u(g,l,r)):void 0!==r&&(c[t]=r));return c},l=[function(){return framework.extension.getRequest()},function(){return new XMLHttpRequest}];return{extend:u,sendRequest:t}}),ABINE_DNT.define("abine/dnt/rules",["abine/dnt/utils"],function(e){var t;return e.sendRequest("/api-rules.json",function(e){t=JSON.parse(e)},null,!1),t}),ABINE_DNT.define("abine/dnt/tabData",["documentcloud/underscore","abine/dnt/core","abine/dnt/config"],function(e,t,n){function r(e,t){var n=0;for(var r in t.trackers)"length"!=r&&2==t.trackers[r]&&(r in t.blocked||n++);setTimeout(function(){e.trigger("update-count",t.tabId,t.disabledHere,t.trackers.length,t.blocked.length,n,t.host)},0)}function i(e,t,n){return t in e.changes?(n=e.changes[t],delete e.changes[t],e.changes.length--,0==e.changes.length&&(e.settingsChanged=!1)):(e.changes[t]=n,e.changes.length++,e.settingsChanged=!0),n}var o={},a=t.BaseClass.extend({get:function(e,t){if(!e)return{};if(!(e in o)){if(t)return!1;o[e]={tabId:e,domains:{length:0},trackers:{length:0},blocked:{length:0},disabledHere:!1,reloadRequired:!0,host:null,url:null,changes:{length:0},settingsChanged:!1,custom:{},contentScriptNotReady:!0,blockedRequests:[]}}return o[e]},update:function(e,t,n,i,o,a,s){var u=this.get(o),l=!1;if(!t||t in u.domains||(u.domains[t]=1,u.domains.length++),!e)return!1;var c=u.trackers;if(e in c||(c[e]=i?2:1,c.length++,l=!0),n){var d=u.blocked;e in d||(d[e]=1,d.length++),u.contentScriptNotReady&&u.blockedRequests.push({name:e,url:a,type:s})}return l&&r(this,u),l},markUnmarkChanges:function(e,t){var n=this.get(e,!1);n&&i(n,t)},setCustomData:function(e,t,n){var r=this.get(e,!1);r&&(null===n?t in r.custom&&delete r.custom[t]:r.custom[t]=n)},getCustomData:function(e,t){var n=this.get(e,!1);if(n)return t in n.custom?n.custom[t]:null},updateTrackerState:function(t,n,a){for(var s in o){var u=o[s];if("*"==n||u.host==n){var l=!1;if("*"==n&&"*"==t)i(u,"global");else if("*"==t){l=!0,u.disabledHere=!a;var c=i(u,"site",e.clone(u.blocked));if("site"in u.changes)if(u.disabledHere){u.toggledOff=!0;for(var d in u.blocked)"length"!=d&&(u.blocked.length--,delete u.blocked[d])}else{u.toggledOff=!1;for(var d in u.trackers)d in u.blocked||(u.blocked.length++,u.blocked[d]=1)}else u.blocked=c}else if(t in u.trackers)if(a){if(t in u.blocked)continue;u.blocked.length++,u.blocked[t]=1,i(u,t),l=!0}else{if(!(t in u.blocked))continue;u.blocked.length--,delete u.blocked[t],i(u,t),l=!0}l&&r(this,u)}}},clear:function(e){e&&e in o&&delete o[e]},triggerUpdateIcon:function(e){if(e in o){var t=this.get(e);r(this,t)}},getTabIds:function(e){var t=[];for(var n in o){var r=o[n];"*"!=e&&r.host!=e||t.push(n)}return t},start:function(e,t,i,o){this.clear(e);var a=this.get(e);return a.host=t,a.url=i,a.disabledHere=a.host in n.getDisableSites()||o&&!(a.host in n.getBlockedSites()),a.suggestedAllow=o,delete a.reloadRequired,r(this,a),a}});return new a}),ABINE_DNT.define("abine/dnt/baseContentPolicy",["abine/dnt/core","abine/dnt/config","abine/dnt/rules","abine/dnt/utils"],function(e,t,n,r){function i(){var e=f.Companies;c={};for(var n=0;n<e.length;n++)for(var r=e[n],i=r.rules,o=0;o<i.length;o++)for(var a in p)"undefined"!=typeof i[o][a]&&(c[i[o].name]=i[o].name);return t.setTrackerDefaults(c)}function o(){for(var e={script:1,iframe:1,image:1},t=f.Companies,n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.rules.length;i++)for(var o in e){var a=r.rules[i];o in a&&(a[o].pattern.source||(a[o].pattern=new RegExp(a[o].pattern,"i")),a[o].allowDomain&&(a[o].allowDomain.source||(a[o].allowDomain=new RegExp(a[o].allowDomain,"i"))))}f.HostingSites&&!f.HostingSites.source&&(f.HostingSites=new RegExp(f.HostingSites,"i")),f.CompoundRealms&&!f.CompoundRealms.source&&(f.CompoundRealms=new RegExp(f.CompoundRealms,"i")),f.CombinerScripts?f.CombinerScripts.source||(f.CombinerScripts=new RegExp(f.CombinerScripts,"i")):f.CombinerScripts=/(\.js[^\/](.*\.js)+)/i,d={},f.AllowedSites=f.AllowedSites||[];for(var n=0;n<f.AllowedSites.length;n++)d[f.AllowedSites[n]]=1}function a(e,t){return!!(e&&e.Version&&(t||e.Version>f.Version))&&(l=null,h.Rules=f=e,o(),!0)}function s(e){if(!e)return null;var t=e.split(".");if(t.length<2||e.match(/^[0-9\.\:]+$/))return e;var n=t.pop(),r=t.pop(),i=r+"."+n;if(f&&f.CompoundRealms.test(i)&&t.length>0&&(n=i,r=t.pop(),i=r+"."+n),f&&f.HostingSites.test(i)&&t.length>0){var o=t.pop();i=o+"."+i}return i}function u(e){var t=new RegExp("^http(?:s)?://([^/]+)","im"),n=e.match(t);return n&&n.length>1?n[1].toString():e}var l,c,d={},f=n,g="var abNoOp=function(i,a){return (a&&a.length?a[0]:null)||true;},abSC=function(n,v){document.cookie=n+'='+v+';path=/;expires='+(new Date((new Date()).getTime()+(30000*60*60*24))).toGMTString();},abGC=function(n){return document.cookie.indexOf(n+'=')!=-1;},abAddNoOpMethods=function(o,m){m=m.split(',');for(var i=0;i<m.length;i++){if(m[i].match(/^#/)){o['get'+m[i].substr(1)]=o['set'+m[i].substr(1)]=abNoOp;}else{o[m[i]]=abNoOp;}}};";g+="var abClickEvent=function(n){if(n.click){n.click();}else{var e=n.ownerDocument.createEvent('MouseEvents');e.initMouseEvent('click',true, true, n.ownerDocument.defaultView, 1,0,0,0,0,false,false,false,false,0,null);n.dispatchEvent(e);}};";var p={script:1,iframe:1,image:1},h=e.BaseClass.extend({initialize:function(e){this.setupContentPolicy(),this.setRules(e),this.loadRules(),i(),this.updateSettings()},getDomain:function(e){return s(u(e))},getHostname:function(e){return u(e)},getRulesVersion:function(){return f.Version},setRules:function(e,t){if(e){var n=a(e,t);return n?this.reloadRules():o(),n}return o(),!1},reloadRules:function(){this.loadRules(),i()&&this.updateSettings()},getTrackerNames:function(){return c},isHostAllowedBySuggestion:function(e){return e in d},setupContentPolicy:function(){},loadRules:function(){},updateSettings:function(){},updateSuggestions:function(){},getRulesJson:function(){if(!l){for(var e=r.extend(!0,{},f),t=e.Companies,n=0;n<t.length;n++)for(var i=t[n],o=0;o<i.rules.length;o++)for(var a in p){var s=i.rules[o];a in s&&(s[a].pattern&&s[a].pattern.source&&(s[a].pattern=s[a].pattern.source),s[a].allowDomain&&s[a].allowDomain.source&&(s[a].allowDomain=s[a].allowDomain.source))}e.HostingSites&&e.HostingSites.source&&(e.HostingSites=e.HostingSites.source),e.CompoundRealms&&e.CompoundRealms.source&&(e.CompoundRealms=e.CompoundRealms.source),e.CombinerScripts?e.CombinerScripts.source&&(e.CombinerScripts=e.CombinerScripts.source):e.CombinerScripts=/(\.js[^\/](.*\.js)+)/i.source,delete e.Notifications,l=JSON.stringify(e)}return l}});return h.Rules=f,h.abNoOp=g,h}),ABINE_DNT.define("abine/dnt/browserContentPolicy",["abine/dnt/config","abine/dnt/baseContentPolicy","abine/dnt/tabData"],function(e,t,n){function r(t,n,r){var i=!1,o=e.getTrackerSettings();return o["*"]&&1==o["*"][n]&&!r&&(i=!0),o[t]&&1==o[t][n]&&(i=!0),o[t]&&0==o[t][n]&&(i=!1),o[t]&&0==o[t]["*"]&&(i=!1),i}function i(e,t,n){for(var r=u[n];;){if(t in r){for(var i=r[t],o=0;o<i.length;o++){var a=i[o];if(a.pattern.source||(a.pattern=new RegExp(a.pattern,"i")),e.match(a.pattern))return a}if("*"==t)return null}var s=t.indexOf(".");t=s==-1?"*":t.substr(s+1)}}function o(o){var s={cancel:!1};if(o.tabId==-1)return s;var u=o.url;if("main_frame"==o.type){var d=this.getDomain(o.url),f=e.getSuggestionsEnabled()&&d in c;return n.start(o.tabId,d,o.url,f),s}if(!n.get(o.tabId,!0))return chrome.tabs.get(o.tabId,_.bind(function(t){var r=this.getDomain(t.url),i=e.getSuggestionsEnabled()&&r in c;n.start(t.id,r,t.url,i)},this)),s;var g=n.get(o.tabId);if(g.disabledHere)return s;var d=g.host;if(!d)return s;var p=this.getDomain(u);if(!p)return s;var h=null,b={sub_frame:"iframe",script:"script",xmlhttprequest:"object",image:"image",object:"object",other:"object"};"script"==o.type&&u.match(t.Rules.CombinerScripts)||(h=i(u,this.getHostname(u),b[o.type]));var m=p!=d;if(h){if(h.allowFirstParty&&!m)return s;var v,k=h.name,y=!1;e.getSuggestionsEnabled()&&h.allowDomain&&(h.allowDomain.source||(h.allowDomain=new RegExp(h.allowDomain,"i")),d.match(h.allowDomain)&&(y=!0)),v=r(d,k,y),v&&(s="image"==o.type?{redirectUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACklEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg=="}:"sub_frame"==o.type?{redirectUrl:"about:blank"}:"script"==o.type&&h.stub?{redirectUrl:"data:application/javascript;base64,"+a(h.stub,u)}:{cancel:!0}),s.tracker=k;var S=this;setTimeout(function(){var e=n.update(k,p,v,y,o.tabId,u,o.type);S.trigger("tracker-found",o.tabId,h.name,v,e,y,u,h.name in l)},0)}return s.third_party=m,s}function a(e,n){var r="{}";return n.indexOf("?")!=-1&&(r={},n.replace(/([^?=&]+)(=([^&]*))?/g,function(e,t,n,i){r[t]=unescape(i)}),r=JSON.stringify(r)),e="var abPrm="+r+";"+t.abNoOp+e,window.btoa(e)}function s(e,t,n){if(n.tabId!=-1){var r=d[n.tabId];if("main_frame"==n.type){if(r){var i=r.time.toFixed(4)+" ms total time spent for processing "+r.requests+" requests.  ";delete r.requests,delete r.time,i+=JSON.stringify(r),console.log(i)}d[n.tabId]={url:n.url,time:e,requests:1,blocked:0,allowed:1,third_party:0,third_party_blocked:0}}else r&&(r.time+=e,r.requests++,t.third_party&&r.third_party++);var o=console.debug;e>10?o=console.info:e>100&&(o=console.error),t.cancel||t.redirectUrl?(type="blocked",r&&(r.blocked++,t.third_party&&r.third_party_blocked++)):(type="allowed",r&&r.allowed++),t.tracker&&(type+=" "+t.tracker),o(e.toFixed(4)+" ms time to process request ("+type+") "+n.type+" "+n.url+" "+n.tabId)}}var u={script:{"*":[]},image:{"*":[]},iframe:{"*":[]},object:{"*":[]},subobject:{"*":[]}},l={},c={},d={},f=t.extend({setupContentPolicy:function(){var e=this;chrome.webRequest.onBeforeRequest.addListener(function(){var t;if(ABINE_DNTME._profileTrackers){var n=arguments[0],r=performance.now();t=o.apply(e,arguments);var i=performance.now()-r;s(i,t,n)}else t=o.apply(e,arguments);return delete t.tracker,delete t.third_party,t},{urls:["http://*/*","https://*/*"],types:["main_frame","sub_frame","script","xmlhttprequest","image","object","other"]},["blocking"])},loadRules:function(){var e=t.Rules,n=e.Companies;u={script:{"*":[]},image:{"*":[]},iframe:{"*":[]},object:{"*":[]},subobject:{"*":[]}};for(var r=0;r<n.length;r++)for(var i=n[r],o=i.rules,a=0;a<o.length;a++)for(var s in u)if("undefined"!=typeof o[a][s]){var d="string"==typeof o[a][s]?o[a][o[a][s]]:o[a][s];d.name=o[a].name,d.category=o[a].category,d.allowFirstParty=o[a].allowFirstParty;for(var f=d.domains.split("|"),g=0;g<f.length;g++)f[g]in u[s]||(u[s][f[g]]=[]),u[s][f[g]].push(d)}if(l={},e.BadTrackers)for(var a=0;a<e.BadTrackers.length;a++)l[e.BadTrackers[a]]=!0;if(c={},e.AllowedSites)for(var a=0;a<e.AllowedSites.length;a++)c[e.AllowedSites[a]]=1}});return f}),ABINE_DNT.define("abine/dnt/social-button-proxy",["documentcloud/underscore","abine/dnt/core"],function(e,t){var n=t.BaseClass.extend({blocked:function(e,t,n,r,i,o){chrome.tabs.sendRequest(parseInt(e),{message:"tracker-blocked",trackerName:t,newTracker:r,url:i,image:o})},allow:function(e,t){chrome.tabs.sendRequest(parseInt(e),{message:"tracker-allowed",trackerName:t})}}),r=new n;return chrome.extension.onRequest.addListener(function(e,t){"allow-tracker"==e.message&&r.trigger(e.message,{tabId:t.tab.id,trackerName:e.trackerName})}),r}),ABINE_DNT.define("abine/dnt/api",["abine/dnt/core","abine/dnt/browserContentPolicy","abine/dnt/config","abine/dnt/tabData","abine/dnt/utils","abine/dnt/social-button-proxy","documentcloud/underscore"],function(e,t,n,r,i,o,a){var s,u={"Facebook Connect":null,"Google +1":null,"Twitter Badge":null,LinkedIn:null},l=e.BaseClass.extend({initialize:function(e,i){n.load(e),s=new t(i),n.on("update-content-policy-settings",function(){s.updateSettings()}),n.on("update-content-policy-suggestions",function(){s.updateSuggestions()}),n.on("config-changed",function(){var e=Array.prototype.slice.call(arguments);e.unshift("config-changed"),this.trigger.apply(this,e)},this),r.on("update-count",function(){var e=Array.prototype.slice.call(arguments);e.unshift("update-count"),this.trigger.apply(this,e)},this),s.on("tracker-found",function(e,t,r,i,a,s,l,c){var d=Array.prototype.slice.call(arguments);d.unshift("tracker-found"),this.trigger.apply(this,d),n.isPlaceHolderButtonEnabled()&&r&&t in u&&o.blocked(e,t,r,i,s,u[t],c)},this),o.on("allow-tracker",a.bind(function(e){var t=e.tabId,n=e.trackerName,i=r.get(t,!0);return i?void this.allow(n,i.host):null},this))},updateRules:function(e,t){i.sendRequest(e,function(e){if(e&&e.indexOf('"Companies":')!=-1)try{var n=JSON.parse(e);return void(s.setRules(n)?t("updated",e):t("no-change",e))}catch(e){}t("failed",e)})},setupRules:function(e,t){if(e&&e.indexOf('"Companies":')!=-1)try{var n=JSON.parse(e);return void s.setRules(n,!0)}catch(e){}t("failed",e)},getTrackerDefaults:function(){return n.getTrackerDefaults()},allow:function(e,t){if(!e||!t)throw"Tracker name and host are required";if("*"==e&&"*"==t)throw"Tracker name and host cannot be '*'";if(n.allowTracker(e,t,"*"==e&&s.isHostAllowedBySuggestion(t)),r.updateTrackerState(e,t,!1),n.isPlaceHolderButtonEnabled()&&e in u){var i=r.getTabIds(t);a.each(i,function(t){o.allow(t,e)})}},block:function(e,t){if(!e||!t)throw"Tracker name and host are required";if("*"==e&&"*"==t)throw"Tracker name and host cannot be '*'";n.blockTracker(e,t,"*"==e&&s.isHostAllowedBySuggestion(t)),r.updateTrackerState(e,t,!0)},getDefaultBlocking:function(){return n.getDefaultBlocking()},setDefaultBlocking:function(e){n.setDefaultBlocking(e),r.updateTrackerState("*","*",!0)},getSuggestionsEnabled:function(){return n.getSuggestionsEnabled()},setSuggestionsEnabled:function(e){n.setSuggestionsEnabled(e),s.updateSuggestions()},addListener:function(){this.on.apply(this,arguments)},removeListener:function(){this.off.apply(this,arguments)},enablePlaceHolderButton:function(){n.setPlaceHolderButtonEnabled(!0)},disablePlaceHolderButton:function(){n.setPlaceHolderButtonEnabled(!1)},setPlaceHolderButton:function(e,t,n,r,i){null===t?delete u[e]:(i=i||"*",u[e]||(u[e]={}),u[e][i]={image:t,width:n,height:r})},getTabData:function(e){var t=r.get(e,!0);if(!t)return null;var n={host:t.host,url:t.url,disabled:t.disabledHere,suggestedAllow:t.suggestedAllow,settingsChanged:t.settingsChanged,reloadRequired:t.reloadRequired,toggledOff:!!t.toggledOff,custom:[]};for(var i in t.custom)n.custom.push({name:i,value:t.custom[i]});var o=[];for(var i in t.trackers)"length"!=i&&o.push({name:i,suggested:2==t.trackers[i],blocked:i in t.blocked});n.trackers=o;var a=[];for(var s in t.domains)"length"!=s&&a.push(s);return n.domains=a,n},getRulesVersion:function(){return s.getRulesVersion()},triggerUpdateIcon:function(e){r.triggerUpdateIcon(e)},markSettingsChanged:function(e,t){r.markUnmarkChanges(e,t)},setCustomTabData:function(e,t,n){r.setCustomData(e,t,n)},getCustomTabData:function(e,t){return r.getCustomData(e,t)},getDomain:function(e){return s.getDomain(e)}});return ABINE_DNT.API=l,l});